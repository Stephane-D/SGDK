<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>sgdk: xgm.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">sgdk</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('xgm_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">xgm.h File Reference</div>  </div>
</div>
<div class="contents">

<p>XGM sound driver.  
<a href="#details">More...</a></p>

<p><a href="xgm_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#aa48b76488b3beae737c6d2972a4b610c">SND_isPlaying_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_isPlaying() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a906cbd978ff24e9a984d5b58443ecf78">SND_startPlay_XGM</a>(song)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_startPlay(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#afffd88fe171cfc74c555ea141abc3181">SND_stopPlay_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_stopPlay() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a23d470a6a4d2d53e8243676aff276d93">SND_pausePlay_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_pausePlay() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a44a3e4e13fbd8d01d6b326c010225552">SND_resumePlay_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_resumePlay() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a94d52ee7751d9898ff21525fdc3eceb1">SND_isPlayingPCM_XGM</a>(channel_mask)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_isPlayingPCM(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#ae57bf0162ca77b3c44580a2655f98155">SND_setPCM_XGM</a>(id, sample, len)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setPCM(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a708581c52ae7746bb53aafea2d2f145f">SND_setPCMFast_XGM</a>(id, sample, len)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setPCMFast(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a4c2203a0eb3da1c3106bb115e47a62a5">SND_startPlayPCM_XGM</a>(id, prio, ch)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_startPlayPCM(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#aefe1afd029653bfa71cccaebd49c17ed">SND_stopPlayPCM_XGM</a>(channel)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_stopPlayPCM(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a92bd2c79aae7d0d9e2c272691e9bb4cb">SND_getMusicTempo_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_getMusicTempo() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a19109238515608468139d960a7a505b2">SND_setMusicTempo_XGM</a>(value)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setMusicTempo(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a9431c9e229cc4315464bb6fc1a46f11e">SND_getManualSync_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_getManualSync() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a54116f59153579f54b0a6110f217e89a">SND_setManualSync_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setManualSync() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a08f1f50634969073a8302c35f63b7278">SND_nextFrame_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_nextFrame() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#ad9bdbf14ce6a73d2d109c001dbfb599f">SND_nextXFrame_XGM</a>(num)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_nextXFrame(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a7f9762b358c7a495d5ea2ef7dfd3facb">SND_setLoopNumber_XGM</a>(value)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setLoopNumber(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#adaee1a038844bdc48d5b7887a78ecf9e">SND_set68KBUSProtection_XGM</a>(value)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_set68KBUSProtection(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a7c1a341a431cc46201ef0793665866f0">SND_getForceDelayDMA_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_getForceDelayDMA() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a254217b82fb6bead1b5e17f8248d1559">SND_setForceDelayDMA_XGM</a>(value)&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setForceDelayDMA(..) instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a16624731bb5cbb5c84dd3677f841365f">SND_getCPULoad_XGM</a>()&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_getCPULoad() instead.\&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a640c992fde66716a21c259b497adf98d">XGM_nextFrame</a>()&#160;&#160;&#160;XGM_nextXFrame(1)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the Z80 a new frame just happened (XGM music player driver).  <a href="#a640c992fde66716a21c259b497adf98d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a3b863c69610da1c00a58e281dd12afd6">XGM_loadDriver</a> (const <a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> waitReady)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the XGM sound driver.  <a href="#a3b863c69610da1c00a58e281dd12afd6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a34e6292b5b3a4df204da8563cd4ae602">XGM_unloadDriver</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unload the XGM sound driver.  <a href="#a34e6292b5b3a4df204da8563cd4ae602"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a639a3f551d4455aff8d1cc2a5b44def3"></a><!-- doxytag: member="xgm.h::XGM_isPlaying" ref="a639a3f551d4455aff8d1cc2a5b44def3" args="(void)" -->
<a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a639a3f551d4455aff8d1cc2a5b44def3">XGM_isPlaying</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns play music state (XGM music player driver). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a6c9a3bf84dde1b65d38f6ea4ce65a362">XGM_startPlay</a> (const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *song)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start playing the specified XGM track (XGM music player driver).  <a href="#a6c9a3bf84dde1b65d38f6ea4ce65a362"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a4661ed2a7bf80905335861f0550e57cc">XGM_startPlay_FAR</a> (const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *song, <a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a> size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="xgm_8h.html#a6c9a3bf84dde1b65d38f6ea4ce65a362" title="Start playing the specified XGM track (XGM music player driver).">XGM_startPlay</a>(..) except it supports music accessible through bank switch.  <a href="#a4661ed2a7bf80905335861f0550e57cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a1a6609c19da89f0d048046677fd86518">XGM_stopPlay</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop playing music (XGM music player driver).  <a href="#a1a6609c19da89f0d048046677fd86518"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a8499c4ee66d175e9b1f6d8e7ee7a4584">XGM_pausePlay</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause playing music, music can be resumed by calling <a class="el" href="xgm_8h.html#a3b4f4bdd59728f4b28e2cf01cb762336" title="Resume playing music after pausing with XGM_pausePlay (XGM music player driver).  Note that due to th...">XGM_resumePlay</a> (XGM music player driver).<br/>
 Note that due to the nature of the music chip (FM synthesis), resume play operation will never be perfect and some notes will miss until next key-on event occurs.  <a href="#a8499c4ee66d175e9b1f6d8e7ee7a4584"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a3b4f4bdd59728f4b28e2cf01cb762336">XGM_resumePlay</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume playing music after pausing with <a class="el" href="xgm_8h.html#a8499c4ee66d175e9b1f6d8e7ee7a4584" title="Pause playing music, music can be resumed by calling XGM_resumePlay (XGM music player driver)...">XGM_pausePlay</a> (XGM music player driver).<br/>
 Note that due to the nature of the music chip (FM synthesis), resume play operation will never be perfect and some notes will miss until next key-on event occurs.  <a href="#a3b4f4bdd59728f4b28e2cf01cb762336"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a3446bcd38404e76b891dd4652f8568d8">XGM_isPlayingPCM</a> (const <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> channel_mask)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return play status of specified PCM channel (XGM music player driver).  <a href="#a3446bcd38404e76b891dd4652f8568d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a9203faa0b1ebfe1f264095affc4b9562">XGM_setPCM</a> (const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> id, const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *sample, const <a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a> len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a new PCM sample (maximum = 255) for the XGM music player driver.<br/>
 Sample id &lt; 64 are reserved for music while others are used for SFX so if you want to declare a new SFX PCM sample use an id &gt;= 64.  <a href="#a9203faa0b1ebfe1f264095affc4b9562"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a0f22f83f4c2fbebf4b51a4f87c193a3f">XGM_setPCMFast</a> (const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> id, const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *sample, const <a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a> len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="xgm_8h.html#a9203faa0b1ebfe1f264095affc4b9562" title="Declare a new PCM sample (maximum = 255) for the XGM music player driver.  Sample id &lt; 64 are reserve...">XGM_setPCM</a> but fast version.<br/>
 This method assume that XGM driver is loaded and that 68000 has access to Z80 bus.  <a href="#a0f22f83f4c2fbebf4b51a4f87c193a3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ea1aa6f7005216d235c82b83322e65f"></a><!-- doxytag: member="xgm.h::XGM_setPCM_FAR" ref="a9ea1aa6f7005216d235c82b83322e65f" args="(const u8 id, const u8 *sample, const u32 len)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a9ea1aa6f7005216d235c82b83322e65f">XGM_setPCM_FAR</a> (const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> id, const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *sample, const <a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a> len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="xgm_8h.html#a9203faa0b1ebfe1f264095affc4b9562" title="Declare a new PCM sample (maximum = 255) for the XGM music player driver.  Sample id &lt; 64 are reserve...">XGM_setPCM</a>(..) allowing PCM access through bank switch. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1cb09f538c42b879ecc2d01f1e94ed86"></a><!-- doxytag: member="xgm.h::XGM_setPCMFast_FAR" ref="a1cb09f538c42b879ecc2d01f1e94ed86" args="(const u8 id, const u8 *sample, const u32 len)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a1cb09f538c42b879ecc2d01f1e94ed86">XGM_setPCMFast_FAR</a> (const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> id, const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *sample, const <a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a> len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="xgm_8h.html#a0f22f83f4c2fbebf4b51a4f87c193a3f" title="Same as XGM_setPCM but fast version.  This method assume that XGM driver is loaded and that 68000 has...">XGM_setPCMFast</a>(..) allowing PCM access through bank switch. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a6f72699cc252eb9d473724e22de18032">XGM_startPlayPCM</a> (const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> id, const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> priority, const <a class="el" href="sound_8h.html#a874540c4b30b79490fc7d498caf6b24b">SoundPCMChannel</a> channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Play a PCM sample on specified channel (XGM music player driver).<br/>
 If a sample was currently playing on this channel then priority of the newer sample should be are compared then it's stopped and the new sample is played instead.<br/>
 Note that music may use the first PCM channel so it's better to use channel 2 to 4 for SFX.  <a href="#a6f72699cc252eb9d473724e22de18032"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a35307e5bfb558bca415ac038e13aa363">XGM_stopPlayPCM</a> (const <a class="el" href="sound_8h.html#a874540c4b30b79490fc7d498caf6b24b">SoundPCMChannel</a> channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop play PCM on specified channel (XGM music player driver).<br/>
 No effect if no sample was currently playing on this channel.  <a href="#a35307e5bfb558bca415ac038e13aa363"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a6c91e18cbd21eff429448c6a0affbdd9">XGM_getElapsed</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the elapsed play time since the last <a class="el" href="xgm_8h.html#a6c9a3bf84dde1b65d38f6ea4ce65a362" title="Start playing the specified XGM track (XGM music player driver).">XGM_startPlay</a>(..) call.<br/>
 The returned value is in music frame which can be 50/60 per second depending the base music play rate (NTSC/PAL).  <a href="#a6c91e18cbd21eff429448c6a0affbdd9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#ae7dd366acac2520b68daa6ebb4020fc3">XGM_getMusicTempo</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current music tempo (in tick per second).<br/>
 Default value is 60 or 50 depending the system is NTSC or PAL.<br/>
 This method is meaningful only if you use the automatic music sync mode (see <a class="el" href="xgm_8h.html#a468c6fbd4aef204e1ef019dfb8a63c8f" title="Set manual sync mode of XGM driver (by default auto sync is used).">XGM_setManualSync()</a> method) which is the default mode.<br/>
 Note that using specific tempo (not 60 or 50) will affect performance of DMA contention and external command parsing so it's recommended to stand with default one.  <a href="#ae7dd366acac2520b68daa6ebb4020fc3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a868c042f4fa885ed73143c4591847690">XGM_setMusicTempo</a> (const <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the music tempo (in tick per second).<br/>
 Default value is 60 or 50 depending the system is NTSC or PAL. This method is meaningful only if you use the automatic music sync mode (see <a class="el" href="xgm_8h.html#a468c6fbd4aef204e1ef019dfb8a63c8f" title="Set manual sync mode of XGM driver (by default auto sync is used).">XGM_setManualSync()</a> method) which is the default mode.<br/>
 Note that using specific tempo (not 60 or 50) can completely distord FM instruments sound and affect performance of DMA contention and external command parsing so it's recommended to stand with default one.  <a href="#a868c042f4fa885ed73143c4591847690"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#aabd461cf356576e4e117180aa497020d">XGM_getManualSync</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns manual sync mode state of XGM driver (by default auto sync is used).  <a href="#aabd461cf356576e4e117180aa497020d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a468c6fbd4aef204e1ef019dfb8a63c8f">XGM_setManualSync</a> (const <a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set manual sync mode of XGM driver (by default auto sync is used).  <a href="#a468c6fbd4aef204e1ef019dfb8a63c8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a9cebad2dbc01fbeaca734df1f8fd2378">XGM_nextXFrame</a> (const <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> num)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="xgm_8h.html#a640c992fde66716a21c259b497adf98d" title="Notify the Z80 a new frame just happened (XGM music player driver).">XGM_nextFrame()</a> except you can specify the numer of frame.  <a href="#a9cebad2dbc01fbeaca734df1f8fd2378"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2f5bb180726f7cb4d76febd85381db0"></a><!-- doxytag: member="xgm.h::XGM_setLoopNumber" ref="ab2f5bb180726f7cb4d76febd85381db0" args="(const s8 value)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#ab2f5bb180726f7cb4d76febd85381db0">XGM_setLoopNumber</a> (const <a class="el" href="types_8h.html#a8183072ed84abc0729df0f585ef37555">s8</a> value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the loop number for music with loop command.<br/>
 Default value is -1 for pseudo unfinite (255) loops plays. A value of 0 means single play without any loop, 1 = single play + 1 loop... <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a19e61c167220c9a2519ae94678d99166">XGM_set68KBUSProtection</a> (const <a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as Z80_setBusProtection(..) (generic version of the method)  <a href="#a19e61c167220c9a2519ae94678d99166"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#aab0385d404945269ffa03179b789618b">XGM_getForceDelayDMA</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="z80__ctrl_8h.html#a8a684f505b776406f4bd279ea88bc43a" title="Returns TRUE if DMA delay is enabled to improve PCM playback.">Z80_getForceDelayDMA()</a> (generic version of the method)  <a href="#aab0385d404945269ffa03179b789618b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a89b6682cc789b3db31bd01f55b6777"></a><!-- doxytag: member="xgm.h::XGM_setForceDelayDMA" ref="a7a89b6682cc789b3db31bd01f55b6777" args="(const bool value)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a7a89b6682cc789b3db31bd01f55b6777">XGM_setForceDelayDMA</a> (const <a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as Z80_setForceDelayDMA(..) (generic version of the method) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a9ab2616f73fc25af47ac04d0e54f04"></a><!-- doxytag: member="xgm.h::XGM_getCPULoad" ref="a4a9ab2616f73fc25af47ac04d0e54f04" args="(void)" -->
<a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xgm_8h.html#a4a9ab2616f73fc25af47ac04d0e54f04">XGM_getCPULoad</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an estimation of the Z80 CPU load (XGM driver).<br/>
 The low 16 bits returns the estimated Z80 CPU load where the high 16 bits returns the part spent waiting in the DMA contention (see <a class="el" href="xgm_8h.html#a19e61c167220c9a2519ae94678d99166" title="Same as Z80_setBusProtection(..) (generic version of the method)">XGM_set68KBUSProtection</a> method).<br/>
 The method computes CPU load mean over 32 frames and so it's important to call it at each frame (on VInt for instance) to get meaningful value.<br/>
 Note that it returns CPU load only for the XGM music parsing part as PCM channel mixing is always ON.<br/>
 Idle usage is 40% on NTSC and 30% on PAL, 100% usage usually mean overrun and may result in music slowdown and incorrect PCM operations. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>XGM sound driver. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Stephane Dallongeville </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>08/2015</dd></dl>
<p>This unit provides methods to use the XGM (eXtended Genesis Music) sound driver.<br/>
 This driver takes VGM (or XGM) file as input to play music.<br/>
 It supports 4 PCM channels at a fixed 14 Khz and allows to play SFX through PCM with 16 level of priority.<br/>
 The driver is designed to avoid DMA contention when possible (depending CPU load). </p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a16624731bb5cbb5c84dd3677f841365f"></a><!-- doxytag: member="xgm.h::SND_getCPULoad_XGM" ref="a16624731bb5cbb5c84dd3677f841365f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_getCPULoad_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_getCPULoad() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000044">Deprecated:</a></b></dt><dd>use XGM_getCPULoad(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a7c1a341a431cc46201ef0793665866f0"></a><!-- doxytag: member="xgm.h::SND_getForceDelayDMA_XGM" ref="a7c1a341a431cc46201ef0793665866f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_getForceDelayDMA_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_getForceDelayDMA() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000042">Deprecated:</a></b></dt><dd>use XGM_getForceDelayDMA(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a9431c9e229cc4315464bb6fc1a46f11e"></a><!-- doxytag: member="xgm.h::SND_getManualSync_XGM" ref="a9431c9e229cc4315464bb6fc1a46f11e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_getManualSync_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_getManualSync() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000036">Deprecated:</a></b></dt><dd>use XGM_getManualSync(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a92bd2c79aae7d0d9e2c272691e9bb4cb"></a><!-- doxytag: member="xgm.h::SND_getMusicTempo_XGM" ref="a92bd2c79aae7d0d9e2c272691e9bb4cb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_getMusicTempo_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_getMusicTempo() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000034">Deprecated:</a></b></dt><dd>use XGM_getMusicTempo(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="aa48b76488b3beae737c6d2972a4b610c"></a><!-- doxytag: member="xgm.h::SND_isPlaying_XGM" ref="aa48b76488b3beae737c6d2972a4b610c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_isPlaying_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_isPlaying() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000024">Deprecated:</a></b></dt><dd>use <a class="el" href="xgm_8h.html#a639a3f551d4455aff8d1cc2a5b44def3" title="Returns play music state (XGM music player driver).">XGM_isPlaying()</a> instead </dd></dl>

</div>
</div>
<a class="anchor" id="a94d52ee7751d9898ff21525fdc3eceb1"></a><!-- doxytag: member="xgm.h::SND_isPlayingPCM_XGM" ref="a94d52ee7751d9898ff21525fdc3eceb1" args="(channel_mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_isPlayingPCM_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">channel_mask</td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_isPlayingPCM(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000029">Deprecated:</a></b></dt><dd>use XGM_isPlayingPCM(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a08f1f50634969073a8302c35f63b7278"></a><!-- doxytag: member="xgm.h::SND_nextFrame_XGM" ref="a08f1f50634969073a8302c35f63b7278" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_nextFrame_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_nextFrame() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000038">Deprecated:</a></b></dt><dd>use XGM_nextFrame(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="ad9bdbf14ce6a73d2d109c001dbfb599f"></a><!-- doxytag: member="xgm.h::SND_nextXFrame_XGM" ref="ad9bdbf14ce6a73d2d109c001dbfb599f" args="(num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_nextXFrame_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">num</td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_nextXFrame(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000039">Deprecated:</a></b></dt><dd>use XGM_nextXFrame(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a23d470a6a4d2d53e8243676aff276d93"></a><!-- doxytag: member="xgm.h::SND_pausePlay_XGM" ref="a23d470a6a4d2d53e8243676aff276d93" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_pausePlay_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_pausePlay() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000027">Deprecated:</a></b></dt><dd>use XGM_pausePlay(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a44a3e4e13fbd8d01d6b326c010225552"></a><!-- doxytag: member="xgm.h::SND_resumePlay_XGM" ref="a44a3e4e13fbd8d01d6b326c010225552" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_resumePlay_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_resumePlay() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000028">Deprecated:</a></b></dt><dd>use XGM_resumePlay(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="adaee1a038844bdc48d5b7887a78ecf9e"></a><!-- doxytag: member="xgm.h::SND_set68KBUSProtection_XGM" ref="adaee1a038844bdc48d5b7887a78ecf9e" args="(value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_set68KBUSProtection_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value</td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_set68KBUSProtection(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000041">Deprecated:</a></b></dt><dd>use XGM_set68KBUSProtection(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a254217b82fb6bead1b5e17f8248d1559"></a><!-- doxytag: member="xgm.h::SND_setForceDelayDMA_XGM" ref="a254217b82fb6bead1b5e17f8248d1559" args="(value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_setForceDelayDMA_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value</td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setForceDelayDMA(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000043">Deprecated:</a></b></dt><dd>use XGM_setForceDelayDMA(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a7f9762b358c7a495d5ea2ef7dfd3facb"></a><!-- doxytag: member="xgm.h::SND_setLoopNumber_XGM" ref="a7f9762b358c7a495d5ea2ef7dfd3facb" args="(value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_setLoopNumber_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value</td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setLoopNumber(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000040">Deprecated:</a></b></dt><dd>use XGM_setLoopNumber(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a54116f59153579f54b0a6110f217e89a"></a><!-- doxytag: member="xgm.h::SND_setManualSync_XGM" ref="a54116f59153579f54b0a6110f217e89a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_setManualSync_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setManualSync() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000037">Deprecated:</a></b></dt><dd>use XGM_setManualSync(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a19109238515608468139d960a7a505b2"></a><!-- doxytag: member="xgm.h::SND_setMusicTempo_XGM" ref="a19109238515608468139d960a7a505b2" args="(value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_setMusicTempo_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value</td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setMusicTempo(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000035">Deprecated:</a></b></dt><dd>use XGM_setMusicTempo(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="ae57bf0162ca77b3c44580a2655f98155"></a><!-- doxytag: member="xgm.h::SND_setPCM_XGM" ref="ae57bf0162ca77b3c44580a2655f98155" args="(id, sample, len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_setPCM_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sample, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setPCM(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000030">Deprecated:</a></b></dt><dd>use XGM_setPCM(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a708581c52ae7746bb53aafea2d2f145f"></a><!-- doxytag: member="xgm.h::SND_setPCMFast_XGM" ref="a708581c52ae7746bb53aafea2d2f145f" args="(id, sample, len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_setPCMFast_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sample, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_setPCMFast(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000031">Deprecated:</a></b></dt><dd>use XGM_setPCMFast(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a906cbd978ff24e9a984d5b58443ecf78"></a><!-- doxytag: member="xgm.h::SND_startPlay_XGM" ref="a906cbd978ff24e9a984d5b58443ecf78" args="(song)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_startPlay_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">song</td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_startPlay(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000025">Deprecated:</a></b></dt><dd>use XGM_startPlay(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a4c2203a0eb3da1c3106bb115e47a62a5"></a><!-- doxytag: member="xgm.h::SND_startPlayPCM_XGM" ref="a4c2203a0eb3da1c3106bb115e47a62a5" args="(id, prio, ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_startPlayPCM_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">prio, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ch&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_startPlayPCM(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000032">Deprecated:</a></b></dt><dd>use XGM_startPlayPCM(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="afffd88fe171cfc74c555ea141abc3181"></a><!-- doxytag: member="xgm.h::SND_stopPlay_XGM" ref="afffd88fe171cfc74c555ea141abc3181" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_stopPlay_XGM</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_stopPlay() instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000026">Deprecated:</a></b></dt><dd>use XGM_stopPlay(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="aefe1afd029653bfa71cccaebd49c17ed"></a><!-- doxytag: member="xgm.h::SND_stopPlayPCM_XGM" ref="aefe1afd029653bfa71cccaebd49c17ed" args="(channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SND_stopPlayPCM_XGM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">channel</td><td>)</td>
          <td>&#160;&#160;&#160;_Pragma(&quot;GCC error \&quot;This method is deprecated, use XGM_stopPlayPCM(..) instead.\&quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000033">Deprecated:</a></b></dt><dd>use XGM_stopPlayPCM(..) instead </dd></dl>

</div>
</div>
<a class="anchor" id="a640c992fde66716a21c259b497adf98d"></a><!-- doxytag: member="xgm.h::XGM_nextFrame" ref="a640c992fde66716a21c259b497adf98d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XGM_nextFrame</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;XGM_nextXFrame(1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify the Z80 a new frame just happened (XGM music player driver). </p>
<p>Sound synchronization was initially 100% done by Z80 itself using the V-Interrupt but if the Z80 is stopped right at V-Int time (bus request from 68000 or DMA stall) then the V-Int can be missed by the Z80 and music timing affected.<br/>
 To fix that issue and also to offer more flexibility the music timing should now be handled by the 68k.<br/>
 By default this method is called automatically by SGDK at V-Int time but you can decide to handle sync manually (see XGM_setManualSync(..) method).<br/>
 When you are in manual sync you normally should call this method once per frame (in the V-Int callback for instance) but you are free to play with it to increase or decrease music tempo.<br/>
 Note that it's better to call this method a bit before (3/4 scanlines should be fine) doing DMA operation for best main bus contention protection (see <a class="el" href="xgm_8h.html#a19e61c167220c9a2519ae94678d99166" title="Same as Z80_setBusProtection(..) (generic version of the method)">XGM_set68KBUSProtection()</a> and <a class="el" href="xgm_8h.html#a7a89b6682cc789b3db31bd01f55b6777" title="Same as Z80_setForceDelayDMA(..) (generic version of the method)">XGM_setForceDelayDMA()</a> methods).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a468c6fbd4aef204e1ef019dfb8a63c8f" title="Set manual sync mode of XGM driver (by default auto sync is used).">XGM_setManualSync</a>(..) </dd>
<dd>
<a class="el" href="xgm_8h.html#a9cebad2dbc01fbeaca734df1f8fd2378" title="Same as XGM_nextFrame() except you can specify the numer of frame.">XGM_nextXFrame</a>(..) </dd>
<dd>
<a class="el" href="xgm_8h.html#a19e61c167220c9a2519ae94678d99166" title="Same as Z80_setBusProtection(..) (generic version of the method)">XGM_set68KBUSProtection</a>(..) </dd>
<dd>
<a class="el" href="xgm_8h.html#a7a89b6682cc789b3db31bd01f55b6777" title="Same as Z80_setForceDelayDMA(..) (generic version of the method)">XGM_setForceDelayDMA</a>(..) </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6c91e18cbd21eff429448c6a0affbdd9"></a><!-- doxytag: member="xgm.h::XGM_getElapsed" ref="a6c91e18cbd21eff429448c6a0affbdd9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a> XGM_getElapsed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the elapsed play time since the last <a class="el" href="xgm_8h.html#a6c9a3bf84dde1b65d38f6ea4ce65a362" title="Start playing the specified XGM track (XGM music player driver).">XGM_startPlay</a>(..) call.<br/>
 The returned value is in music frame which can be 50/60 per second depending the base music play rate (NTSC/PAL). </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a6c9a3bf84dde1b65d38f6ea4ce65a362" title="Start playing the specified XGM track (XGM music player driver).">XGM_startPlay</a>(..) </dd>
<dd>
<a class="el" href="xgm_8h.html#a868c042f4fa885ed73143c4591847690" title="Set the music tempo (in tick per second).  Default value is 60 or 50 depending the system is NTSC or ...">XGM_setMusicTempo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aab0385d404945269ffa03179b789618b"></a><!-- doxytag: member="xgm.h::XGM_getForceDelayDMA" ref="aab0385d404945269ffa03179b789618b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> XGM_getForceDelayDMA </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Same as <a class="el" href="z80__ctrl_8h.html#a8a684f505b776406f4bd279ea88bc43a" title="Returns TRUE if DMA delay is enabled to improve PCM playback.">Z80_getForceDelayDMA()</a> (generic version of the method) </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a7a89b6682cc789b3db31bd01f55b6777" title="Same as Z80_setForceDelayDMA(..) (generic version of the method)">XGM_setForceDelayDMA()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aabd461cf356576e4e117180aa497020d"></a><!-- doxytag: member="xgm.h::XGM_getManualSync" ref="aabd461cf356576e4e117180aa497020d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> XGM_getManualSync </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns manual sync mode state of XGM driver (by default auto sync is used). </p>
<dl class="see"><dt><b>See also:</b></dt><dd>XGM_setManualSync(void) </dd></dl>

</div>
</div>
<a class="anchor" id="ae7dd366acac2520b68daa6ebb4020fc3"></a><!-- doxytag: member="xgm.h::XGM_getMusicTempo" ref="ae7dd366acac2520b68daa6ebb4020fc3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> XGM_getMusicTempo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current music tempo (in tick per second).<br/>
 Default value is 60 or 50 depending the system is NTSC or PAL.<br/>
 This method is meaningful only if you use the automatic music sync mode (see <a class="el" href="xgm_8h.html#a468c6fbd4aef204e1ef019dfb8a63c8f" title="Set manual sync mode of XGM driver (by default auto sync is used).">XGM_setManualSync()</a> method) which is the default mode.<br/>
 Note that using specific tempo (not 60 or 50) will affect performance of DMA contention and external command parsing so it's recommended to stand with default one. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a468c6fbd4aef204e1ef019dfb8a63c8f" title="Set manual sync mode of XGM driver (by default auto sync is used).">XGM_setManualSync</a>(..) </dd>
<dd>
<a class="el" href="xgm_8h.html#a868c042f4fa885ed73143c4591847690" title="Set the music tempo (in tick per second).  Default value is 60 or 50 depending the system is NTSC or ...">XGM_setMusicTempo</a>(..) </dd></dl>

</div>
</div>
<a class="anchor" id="a3446bcd38404e76b891dd4652f8568d8"></a><!-- doxytag: member="xgm.h::XGM_isPlayingPCM" ref="a3446bcd38404e76b891dd4652f8568d8" args="(const u16 channel_mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> XGM_isPlayingPCM </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>channel_mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return play status of specified PCM channel (XGM music player driver). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel_mask</td><td>Channel(s) we want to retrieve play state.<br/>
 SOUND_PCM_CH1_MSK = channel 1<br/>
 SOUND_PCM_CH2_MSK = channel 2<br/>
 SOUND_PCM_CH3_MSK = channel 3<br/>
 SOUND_PCM_CH4_MSK = channel 4<br/>
 <br/>
 You can combine mask to retrieve state of severals channels at once:<br/>
 <code>XGM_isPlayingPCM(SOUND_PCM_CH1_MSK | SOUND_PCM_CH2_MSK)</code><br/>
 will actually return play state for channel 1 and channel 2.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Return the channel mask of current playing channel(s).<br/>
 For instance it returns (SOUND_PCM_CH1_MSK | SOUND_PCM_CH3_MSK) if channels 1 and 3 are currently playing. </dd></dl>

</div>
</div>
<a class="anchor" id="a3b863c69610da1c00a58e281dd12afd6"></a><!-- doxytag: member="xgm.h::XGM_loadDriver" ref="a3b863c69610da1c00a58e281dd12afd6" args="(const bool waitReady)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_loadDriver </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td>
          <td class="paramname"><em>waitReady</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load the XGM sound driver. </p>
<p>Don't use this method directly, use <a class="el" href="z80__ctrl_8h.html#a0221edeac540731f42c91c36738b2f78" title="Load a Z80 driver.">Z80_loadDriver</a>(..) instead. </p>

</div>
</div>
<a class="anchor" id="a9cebad2dbc01fbeaca734df1f8fd2378"></a><!-- doxytag: member="xgm.h::XGM_nextXFrame" ref="a9cebad2dbc01fbeaca734df1f8fd2378" args="(const u16 num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_nextXFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Same as <a class="el" href="xgm_8h.html#a640c992fde66716a21c259b497adf98d" title="Notify the Z80 a new frame just happened (XGM music player driver).">XGM_nextFrame()</a> except you can specify the numer of frame. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a640c992fde66716a21c259b497adf98d" title="Notify the Z80 a new frame just happened (XGM music player driver).">XGM_nextFrame</a>(..) </dd></dl>

</div>
</div>
<a class="anchor" id="a8499c4ee66d175e9b1f6d8e7ee7a4584"></a><!-- doxytag: member="xgm.h::XGM_pausePlay" ref="a8499c4ee66d175e9b1f6d8e7ee7a4584" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_pausePlay </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pause playing music, music can be resumed by calling <a class="el" href="xgm_8h.html#a3b4f4bdd59728f4b28e2cf01cb762336" title="Resume playing music after pausing with XGM_pausePlay (XGM music player driver).  Note that due to th...">XGM_resumePlay</a> (XGM music player driver).<br/>
 Note that due to the nature of the music chip (FM synthesis), resume play operation will never be perfect and some notes will miss until next key-on event occurs. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a3b4f4bdd59728f4b28e2cf01cb762336" title="Resume playing music after pausing with XGM_pausePlay (XGM music player driver).  Note that due to th...">XGM_resumePlay</a> </dd>
<dd>
<a class="el" href="xgm_8h.html#a1a6609c19da89f0d048046677fd86518" title="Stop playing music (XGM music player driver).">XGM_stopPlay</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3b4f4bdd59728f4b28e2cf01cb762336"></a><!-- doxytag: member="xgm.h::XGM_resumePlay" ref="a3b4f4bdd59728f4b28e2cf01cb762336" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_resumePlay </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resume playing music after pausing with <a class="el" href="xgm_8h.html#a8499c4ee66d175e9b1f6d8e7ee7a4584" title="Pause playing music, music can be resumed by calling XGM_resumePlay (XGM music player driver)...">XGM_pausePlay</a> (XGM music player driver).<br/>
 Note that due to the nature of the music chip (FM synthesis), resume play operation will never be perfect and some notes will miss until next key-on event occurs. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a8499c4ee66d175e9b1f6d8e7ee7a4584" title="Pause playing music, music can be resumed by calling XGM_resumePlay (XGM music player driver)...">XGM_pausePlay</a> </dd>
<dd>
<a class="el" href="xgm_8h.html#a640c992fde66716a21c259b497adf98d" title="Notify the Z80 a new frame just happened (XGM music player driver).">XGM_nextFrame</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a19e61c167220c9a2519ae94678d99166"></a><!-- doxytag: member="xgm.h::XGM_set68KBUSProtection" ref="a19e61c167220c9a2519ae94678d99166" args="(const bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_set68KBUSProtection </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Same as Z80_setBusProtection(..) (generic version of the method) </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a7a89b6682cc789b3db31bd01f55b6777" title="Same as Z80_setForceDelayDMA(..) (generic version of the method)">XGM_setForceDelayDMA</a>(..) </dd></dl>

</div>
</div>
<a class="anchor" id="a468c6fbd4aef204e1ef019dfb8a63c8f"></a><!-- doxytag: member="xgm.h::XGM_setManualSync" ref="a468c6fbd4aef204e1ef019dfb8a63c8f" args="(const bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_setManualSync </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set manual sync mode of XGM driver (by default auto sync is used). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>TRUE or FALSE </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#aabd461cf356576e4e117180aa497020d" title="Returns manual sync mode state of XGM driver (by default auto sync is used).">XGM_getManualSync(void)</a> </dd>
<dd>
<a class="el" href="xgm_8h.html#a640c992fde66716a21c259b497adf98d" title="Notify the Z80 a new frame just happened (XGM music player driver).">XGM_nextFrame(void)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a868c042f4fa885ed73143c4591847690"></a><!-- doxytag: member="xgm.h::XGM_setMusicTempo" ref="a868c042f4fa885ed73143c4591847690" args="(const u16 value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_setMusicTempo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the music tempo (in tick per second).<br/>
 Default value is 60 or 50 depending the system is NTSC or PAL. This method is meaningful only if you use the automatic music sync mode (see <a class="el" href="xgm_8h.html#a468c6fbd4aef204e1ef019dfb8a63c8f" title="Set manual sync mode of XGM driver (by default auto sync is used).">XGM_setManualSync()</a> method) which is the default mode.<br/>
 Note that using specific tempo (not 60 or 50) can completely distord FM instruments sound and affect performance of DMA contention and external command parsing so it's recommended to stand with default one. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a468c6fbd4aef204e1ef019dfb8a63c8f" title="Set manual sync mode of XGM driver (by default auto sync is used).">XGM_setManualSync</a>(..) </dd>
<dd>
<a class="el" href="xgm_8h.html#ae7dd366acac2520b68daa6ebb4020fc3" title="Get the current music tempo (in tick per second).  Default value is 60 or 50 depending the system is ...">XGM_getMusicTempo(void)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9203faa0b1ebfe1f264095affc4b9562"></a><!-- doxytag: member="xgm.h::XGM_setPCM" ref="a9203faa0b1ebfe1f264095affc4b9562" args="(const u8 id, const u8 *sample, const u32 len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_setPCM </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *&#160;</td>
          <td class="paramname"><em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declare a new PCM sample (maximum = 255) for the XGM music player driver.<br/>
 Sample id &lt; 64 are reserved for music while others are used for SFX so if you want to declare a new SFX PCM sample use an id &gt;= 64. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Sample id:<br/>
 value 0 is not allowed<br/>
 values from 1 to 63 are used for music values from 64 to 255 are used for SFX </td></tr>
    <tr><td class="paramname">sample</td><td>Sample address, should be 256 bytes boundary aligned<br/>
 SGDK automatically align sample resource as needed </td></tr>
    <tr><td class="paramname">len</td><td>Size of sample in bytes, should be a multiple of 256<br/>
 SGDK automatically adjust resource size as needed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0f22f83f4c2fbebf4b51a4f87c193a3f"></a><!-- doxytag: member="xgm.h::XGM_setPCMFast" ref="a0f22f83f4c2fbebf4b51a4f87c193a3f" args="(const u8 id, const u8 *sample, const u32 len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_setPCMFast </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *&#160;</td>
          <td class="paramname"><em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Same as <a class="el" href="xgm_8h.html#a9203faa0b1ebfe1f264095affc4b9562" title="Declare a new PCM sample (maximum = 255) for the XGM music player driver.  Sample id &lt; 64 are reserve...">XGM_setPCM</a> but fast version.<br/>
 This method assume that XGM driver is loaded and that 68000 has access to Z80 bus. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Sample id:<br/>
 value 0 is not allowed<br/>
 values from 1 to 63 are used for music values from 64 to 255 are used for SFX </td></tr>
    <tr><td class="paramname">sample</td><td>Sample address, should be 256 bytes boundary aligned<br/>
 SGDK automatically align sample resource as needed </td></tr>
    <tr><td class="paramname">len</td><td>Size of sample in bytes, should be a multiple of 256<br/>
 SGDK automatically adjust resource size as needed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6c9a3bf84dde1b65d38f6ea4ce65a362"></a><!-- doxytag: member="xgm.h::XGM_startPlay" ref="a6c9a3bf84dde1b65d38f6ea4ce65a362" args="(const u8 *song)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_startPlay </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *&#160;</td>
          <td class="paramname"><em>song</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start playing the specified XGM track (XGM music player driver). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">song</td><td>XGM track address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a1a6609c19da89f0d048046677fd86518" title="Stop playing music (XGM music player driver).">XGM_stopPlay</a> </dd>
<dd>
<a class="el" href="xgm_8h.html#a8499c4ee66d175e9b1f6d8e7ee7a4584" title="Pause playing music, music can be resumed by calling XGM_resumePlay (XGM music player driver)...">XGM_pausePlay</a> </dd>
<dd>
<a class="el" href="xgm_8h.html#a640c992fde66716a21c259b497adf98d" title="Notify the Z80 a new frame just happened (XGM music player driver).">XGM_nextFrame</a> </dd>
<dd>
<a class="el" href="xgm_8h.html#a4661ed2a7bf80905335861f0550e57cc" title="Same as XGM_startPlay(..) except it supports music accessible through bank switch.">XGM_startPlay_FAR</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4661ed2a7bf80905335861f0550e57cc"></a><!-- doxytag: member="xgm.h::XGM_startPlay_FAR" ref="a4661ed2a7bf80905335861f0550e57cc" args="(const u8 *song, u32 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_startPlay_FAR </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> *&#160;</td>
          <td class="paramname"><em>song</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Same as <a class="el" href="xgm_8h.html#a6c9a3bf84dde1b65d38f6ea4ce65a362" title="Start playing the specified XGM track (XGM music player driver).">XGM_startPlay</a>(..) except it supports music accessible through bank switch. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">song</td><td>XGM track address. </td></tr>
    <tr><td class="paramname">size</td><td>XGM track size (in byte)</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a6c9a3bf84dde1b65d38f6ea4ce65a362" title="Start playing the specified XGM track (XGM music player driver).">XGM_startPlay</a> </dd>
<dd>
<a class="el" href="xgm_8h.html#a1a6609c19da89f0d048046677fd86518" title="Stop playing music (XGM music player driver).">XGM_stopPlay</a> </dd>
<dd>
<a class="el" href="xgm_8h.html#a8499c4ee66d175e9b1f6d8e7ee7a4584" title="Pause playing music, music can be resumed by calling XGM_resumePlay (XGM music player driver)...">XGM_pausePlay</a> </dd>
<dd>
<a class="el" href="xgm_8h.html#a640c992fde66716a21c259b497adf98d" title="Notify the Z80 a new frame just happened (XGM music player driver).">XGM_nextFrame</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6f72699cc252eb9d473724e22de18032"></a><!-- doxytag: member="xgm.h::XGM_startPlayPCM" ref="a6f72699cc252eb9d473724e22de18032" args="(const u8 id, const u8 priority, const SoundPCMChannel channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_startPlayPCM </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a>&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="sound_8h.html#a874540c4b30b79490fc7d498caf6b24b">SoundPCMChannel</a>&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Play a PCM sample on specified channel (XGM music player driver).<br/>
 If a sample was currently playing on this channel then priority of the newer sample should be are compared then it's stopped and the new sample is played instead.<br/>
 Note that music may use the first PCM channel so it's better to use channel 2 to 4 for SFX. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Sample id (use <a class="el" href="xgm_8h.html#a9203faa0b1ebfe1f264095affc4b9562" title="Declare a new PCM sample (maximum = 255) for the XGM music player driver.  Sample id &lt; 64 are reserve...">XGM_setPCM</a>(..) method first to set id) </td></tr>
    <tr><td class="paramname">priority</td><td>Value should go from 0 to 15 where 0 is lowest priority and 15 the highest one.<br/>
 If the channel was already playing the priority is used to determine if the new SFX should replace the current one (new priority &gt;= old priority). </td></tr>
    <tr><td class="paramname">channel</td><td>Channel where we want to play sample, accepted values are:<br/>
 SOUND_PCM_CH1 = channel 1 (usually used by music)<br/>
 SOUND_PCM_CH2 = channel 2<br/>
 SOUND_PCM_CH3 = channel 3<br/>
 SOUND_PCM_CH4 = channel 4<br/>
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1a6609c19da89f0d048046677fd86518"></a><!-- doxytag: member="xgm.h::XGM_stopPlay" ref="a1a6609c19da89f0d048046677fd86518" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_stopPlay </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop playing music (XGM music player driver). </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="xgm_8h.html#a8499c4ee66d175e9b1f6d8e7ee7a4584" title="Pause playing music, music can be resumed by calling XGM_resumePlay (XGM music player driver)...">XGM_pausePlay</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a35307e5bfb558bca415ac038e13aa363"></a><!-- doxytag: member="xgm.h::XGM_stopPlayPCM" ref="a35307e5bfb558bca415ac038e13aa363" args="(const SoundPCMChannel channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_stopPlayPCM </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="sound_8h.html#a874540c4b30b79490fc7d498caf6b24b">SoundPCMChannel</a>&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop play PCM on specified channel (XGM music player driver).<br/>
 No effect if no sample was currently playing on this channel. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel we want to stop, accepted values are:<br/>
 SOUND_PCM_CH1 = channel 1<br/>
 SOUND_PCM_CH2 = channel 2<br/>
 SOUND_PCM_CH3 = channel 3<br/>
 SOUND_PCM_CH4 = channel 4<br/>
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a34e6292b5b3a4df204da8563cd4ae602"></a><!-- doxytag: member="xgm.h::XGM_unloadDriver" ref="a34e6292b5b3a4df204da8563cd4ae602" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XGM_unloadDriver </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unload the XGM sound driver. </p>
<p>Don't use this method directly, use <a class="el" href="z80__ctrl_8h.html#a628051b7f2d4642e579afdd7b3df482c" title="Unload Z80 driver (set NULL driver).">Z80_unloadDriver</a>(..) instead. </p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="xgm_8h.html">xgm.h</a>      </li>
      <li class="footer">Generated on Wed Jan 31 2024 23:59:38 for sgdk by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
